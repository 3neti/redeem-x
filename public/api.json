{
    "openapi": "3.1.0",
    "info": {
        "title": "Redeem-X API Documentation",
        "version": "1.0.0",
        "description": "Redeem-X API - Bank-grade voucher generation and disbursement platform. Supports INSTAPAY/PESONET settlement rails, comprehensive input validation, KYC integration, and real-time notifications."
    },
    "servers": [
        {
            "url": "http://redeem-x.test/api/v1",
            "description": "Local Development"
        },
        {
            "url": "https://staging-api.redeem-x.com",
            "description": "Staging"
        },
        {
            "url": "https://api.redeem-x.com",
            "description": "Production"
        }
    ],
    "paths": {
        "/v1/balances": {
            "get": {
                "operationId": "balance.index",
                "summary": "Display a listing of all account balances",
                "tags": [
                    "Balance"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "account_number": {
                                                        "type": "string"
                                                    },
                                                    "gateway": {
                                                        "type": "string"
                                                    },
                                                    "balance": {
                                                        "type": "integer"
                                                    },
                                                    "available_balance": {
                                                        "type": "integer"
                                                    },
                                                    "currency": {
                                                        "type": "string"
                                                    },
                                                    "formatted_balance": {
                                                        "type": "string"
                                                    },
                                                    "formatted_available_balance": {
                                                        "type": "string"
                                                    },
                                                    "checked_at": {
                                                        "type": "string"
                                                    },
                                                    "is_low": {
                                                        "type": "boolean"
                                                    }
                                                },
                                                "required": [
                                                    "account_number",
                                                    "gateway",
                                                    "balance",
                                                    "available_balance",
                                                    "currency",
                                                    "formatted_balance",
                                                    "formatted_available_balance",
                                                    "checked_at",
                                                    "is_low"
                                                ]
                                            }
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/balances/{accountNumber}": {
            "get": {
                "operationId": "balance.show",
                "summary": "Display the specified account balance",
                "tags": [
                    "Balance"
                ],
                "parameters": [
                    {
                        "name": "accountNumber",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "account_number": {
                                                    "type": "string"
                                                },
                                                "gateway": {
                                                    "type": "string"
                                                },
                                                "balance": {
                                                    "type": "string"
                                                },
                                                "available_balance": {
                                                    "type": "string"
                                                },
                                                "currency": {
                                                    "type": "string"
                                                },
                                                "formatted_balance": {
                                                    "type": "string"
                                                },
                                                "formatted_available_balance": {
                                                    "type": "string"
                                                },
                                                "checked_at": {
                                                    "type": "string"
                                                },
                                                "is_low": {
                                                    "type": "string"
                                                },
                                                "metadata": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "account_number",
                                                "gateway",
                                                "balance",
                                                "available_balance",
                                                "currency",
                                                "formatted_balance",
                                                "formatted_available_balance",
                                                "checked_at",
                                                "is_low",
                                                "metadata"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Account balance not found."
                                            ]
                                        }
                                    },
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/balances/{accountNumber}/refresh": {
            "post": {
                "operationId": "balance.refresh",
                "summary": "Refresh balance for a specific account",
                "tags": [
                    "Balance"
                ],
                "parameters": [
                    {
                        "name": "accountNumber",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "500": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Failed to refresh balance."
                                            ]
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "error"
                                    ]
                                }
                            }
                        }
                    },
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Balance refreshed successfully."
                                            ]
                                        },
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "account_number": {
                                                    "type": "string"
                                                },
                                                "gateway": {
                                                    "type": "string"
                                                },
                                                "balance": {
                                                    "type": "integer"
                                                },
                                                "available_balance": {
                                                    "type": "integer"
                                                },
                                                "currency": {
                                                    "type": "string"
                                                },
                                                "formatted_balance": {
                                                    "type": "string"
                                                },
                                                "formatted_available_balance": {
                                                    "type": "string"
                                                },
                                                "checked_at": {
                                                    "type": "string"
                                                },
                                                "is_low": {
                                                    "type": "boolean"
                                                }
                                            },
                                            "required": [
                                                "account_number",
                                                "gateway",
                                                "balance",
                                                "available_balance",
                                                "currency",
                                                "formatted_balance",
                                                "formatted_available_balance",
                                                "checked_at",
                                                "is_low"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/balances/{accountNumber}/history": {
            "get": {
                "operationId": "balance.history",
                "summary": "Get balance history for an account",
                "tags": [
                    "Balance"
                ],
                "parameters": [
                    {
                        "name": "accountNumber",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 100
                        }
                    },
                    {
                        "name": "days",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 0
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/vouchers/bulk-create": {
            "post": {
                "operationId": "vouchers.bulk-create",
                "summary": "Handle API request",
                "tags": [
                    "BulkCreateVouchers"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "anyOf": [
                                        {
                                            "type": "object",
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "Insufficient wallet balance to generate vouchers."
                                                    ]
                                                },
                                                "errors": {
                                                    "type": "string"
                                                },
                                                "meta": {
                                                    "type": "array",
                                                    "items": {}
                                                }
                                            },
                                            "required": [
                                                "message",
                                                "errors",
                                                "meta"
                                            ]
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "You do not have permission to use this campaign."
                                                    ]
                                                },
                                                "errors": {
                                                    "type": "string"
                                                },
                                                "meta": {
                                                    "type": "array",
                                                    "items": {}
                                                }
                                            },
                                            "required": [
                                                "message",
                                                "errors",
                                                "meta"
                                            ]
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/campaigns": {
            "get": {
                "operationId": "listCampaigns",
                "description": "Get all active campaigns for the authenticated user. Campaigns are used as templates\nwhen generating vouchers via the dashboard or API.",
                "summary": "List Campaigns",
                "tags": [
                    "Campaign"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "integer",
                                    "enum": [
                                        200
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/campaigns/{campaign}": {
            "get": {
                "operationId": "showCampaign",
                "description": "Get details of a specific campaign by ID. Includes complete voucher instructions\nconfiguration stored in the campaign template.",
                "summary": "Show Campaign",
                "tags": [
                    "Campaign"
                ],
                "parameters": [
                    {
                        "name": "campaign",
                        "in": "path",
                        "required": true,
                        "description": "The campaign ID",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "integer",
                                    "enum": [
                                        200
                                    ]
                                }
                            }
                        }
                    },
                    "403": {
                        "$ref": "#/components/responses/AuthorizationException"
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/vouchers/{voucher}": {
            "delete": {
                "operationId": "vouchers.cancel",
                "summary": "Handle API request",
                "tags": [
                    "CancelVoucher"
                ],
                "parameters": [
                    {
                        "name": "voucher",
                        "in": "path",
                        "required": true,
                        "description": "The voucher code",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Cannot cancel a voucher that has already been redeemed."
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "You do not have permission to cancel this voucher."
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            },
            "get": {
                "operationId": "vouchers.show",
                "summary": "Handle API request",
                "tags": [
                    "ShowVoucher"
                ],
                "parameters": [
                    {
                        "name": "voucher",
                        "in": "path",
                        "required": true,
                        "description": "The voucher code",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "You do not have permission to view this voucher."
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/calculate-charges": {
            "post": {
                "operationId": "calculate-charges",
                "tags": [
                    "ChargeCalculation"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "inputs": {
                                        "type": [
                                            "array",
                                            "null"
                                        ],
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "feedback": {
                                        "type": [
                                            "array",
                                            "null"
                                        ],
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "rider": {
                                        "type": [
                                            "array",
                                            "null"
                                        ],
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "count": {
                                        "type": [
                                            "integer",
                                            "null"
                                        ],
                                        "minimum": 1
                                    },
                                    "prefix": {
                                        "type": [
                                            "string",
                                            "null"
                                        ]
                                    },
                                    "mask": {
                                        "type": [
                                            "string",
                                            "null"
                                        ]
                                    },
                                    "ttl": {
                                        "type": [
                                            "string",
                                            "null"
                                        ]
                                    },
                                    "cash": {
                                        "type": "object",
                                        "properties": {
                                            "amount": {
                                                "type": "number",
                                                "minimum": 0
                                            },
                                            "currency": {
                                                "type": [
                                                    "string",
                                                    "null"
                                                ]
                                            }
                                        },
                                        "required": [
                                            "amount"
                                        ]
                                    },
                                    "validation": {
                                        "type": "object",
                                        "properties": {
                                            "location": {
                                                "type": [
                                                    "array",
                                                    "null"
                                                ],
                                                "items": {
                                                    "type": "string"
                                                }
                                            },
                                            "time": {
                                                "type": [
                                                    "array",
                                                    "null"
                                                ],
                                                "items": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                },
                                "required": [
                                    "cash"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    },
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "breakdown": {
                                            "type": "array",
                                            "prefixItems": [
                                                {
                                                    "type": "object",
                                                    "properties": {
                                                        "index": {
                                                            "type": "string"
                                                        },
                                                        "label": {
                                                            "type": "string"
                                                        },
                                                        "value": {
                                                            "type": "string"
                                                        },
                                                        "unit_price": {
                                                            "type": "string"
                                                        },
                                                        "quantity": {
                                                            "type": "string"
                                                        },
                                                        "price": {
                                                            "type": "string"
                                                        },
                                                        "price_formatted": {
                                                            "type": "string"
                                                        },
                                                        "currency": {
                                                            "type": "string"
                                                        }
                                                    },
                                                    "required": [
                                                        "index",
                                                        "label",
                                                        "value",
                                                        "unit_price",
                                                        "quantity",
                                                        "price",
                                                        "price_formatted",
                                                        "currency"
                                                    ]
                                                }
                                            ],
                                            "minItems": 1,
                                            "maxItems": 1,
                                            "additionalItems": false
                                        },
                                        "total": {
                                            "type": "integer",
                                            "enum": [
                                                0
                                            ]
                                        }
                                    },
                                    "required": [
                                        "breakdown",
                                        "total"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/confirm-deposit": {
            "post": {
                "operationId": "confirm-deposit",
                "tags": [
                    "ConfirmDeposit"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "alias": {
                                        "type": "string"
                                    },
                                    "amount": {
                                        "type": "integer",
                                        "minimum": 1
                                    },
                                    "channel": {
                                        "type": "string"
                                    },
                                    "commandId": {
                                        "type": "integer"
                                    },
                                    "externalTransferStatus": {
                                        "type": "string"
                                    },
                                    "operationId": {
                                        "type": "integer"
                                    },
                                    "productBranchCode": {
                                        "type": "string"
                                    },
                                    "recipientAccountNumber": {
                                        "type": "string"
                                    },
                                    "recipientAccountNumberBankFormat": {
                                        "type": "string"
                                    },
                                    "referenceCode": {
                                        "type": "string"
                                    },
                                    "referenceNumber": {
                                        "type": "string"
                                    },
                                    "registrationTime": {
                                        "type": "string"
                                    },
                                    "remarks": {
                                        "type": "string"
                                    },
                                    "transferType": {
                                        "type": "string"
                                    },
                                    "sender": {
                                        "type": "object",
                                        "properties": {
                                            "accountNumber": {
                                                "type": "string"
                                            },
                                            "institutionCode": {
                                                "type": "string"
                                            },
                                            "name": {
                                                "type": "string"
                                            }
                                        },
                                        "required": [
                                            "accountNumber",
                                            "institutionCode",
                                            "name"
                                        ]
                                    },
                                    "merchant_details": {
                                        "type": "object",
                                        "properties": {
                                            "merchant_code": {
                                                "type": [
                                                    "string",
                                                    "null"
                                                ]
                                            },
                                            "merchant_account": {
                                                "type": [
                                                    "string",
                                                    "null"
                                                ]
                                            }
                                        }
                                    }
                                },
                                "required": [
                                    "alias",
                                    "amount",
                                    "channel",
                                    "commandId",
                                    "externalTransferStatus",
                                    "operationId",
                                    "productBranchCode",
                                    "recipientAccountNumber",
                                    "recipientAccountNumberBankFormat",
                                    "referenceCode",
                                    "referenceNumber",
                                    "registrationTime",
                                    "remarks",
                                    "transferType",
                                    "sender"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "204": {
                        "description": "No content"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/confirm-disbursement": {
            "post": {
                "operationId": "confirm-disbursement",
                "tags": [
                    "ConfirmDisbursement"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "operationId": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "operationId"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    },
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "enum": [
                                        "Disbursement confirmed!"
                                    ]
                                }
                            }
                        }
                    },
                    "502": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "enum": [
                                        "Disbursement confirmation failed."
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/redeem/confirm": {
            "post": {
                "operationId": "redeem.confirm",
                "tags": [
                    "ConfirmRedemption"
                ],
                "responses": {
                    "500": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Failed to confirm redemption"
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "anyOf": [
                                        {
                                            "type": "object",
                                            "properties": {
                                                "message": {
                                                    "type": "string"
                                                },
                                                "errors": {
                                                    "type": "string"
                                                },
                                                "meta": {
                                                    "type": "array",
                                                    "items": {}
                                                }
                                            },
                                            "required": [
                                                "message",
                                                "errors",
                                                "meta"
                                            ]
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "This voucher has expired"
                                                    ]
                                                },
                                                "errors": {
                                                    "type": "string"
                                                },
                                                "meta": {
                                                    "type": "array",
                                                    "items": {}
                                                }
                                            },
                                            "required": [
                                                "message",
                                                "errors",
                                                "meta"
                                            ]
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "This voucher has already been redeemed"
                                                    ]
                                                },
                                                "errors": {
                                                    "type": "string"
                                                },
                                                "meta": {
                                                    "type": "array",
                                                    "items": {}
                                                }
                                            },
                                            "required": [
                                                "message",
                                                "errors",
                                                "meta"
                                            ]
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "200": {
                        "description": "Return success with voucher data and rider info",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "voucher": {
                                                    "type": "object",
                                                    "properties": {
                                                        "code": {
                                                            "type": "string"
                                                        },
                                                        "amount": {
                                                            "type": "string"
                                                        },
                                                        "currency": {
                                                            "type": "string"
                                                        }
                                                    },
                                                    "required": [
                                                        "code",
                                                        "amount",
                                                        "currency"
                                                    ]
                                                },
                                                "mobile": {
                                                    "type": "string"
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "Voucher redeemed successfully!"
                                                    ]
                                                },
                                                "rider": {
                                                    "type": "object",
                                                    "properties": {
                                                        "message": {
                                                            "type": [
                                                                "string",
                                                                "null"
                                                            ]
                                                        },
                                                        "url": {
                                                            "type": [
                                                                "string",
                                                                "null"
                                                            ]
                                                        }
                                                    },
                                                    "required": [
                                                        "message",
                                                        "url"
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "voucher",
                                                "mobile",
                                                "message",
                                                "rider"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "success",
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Voucher not found"
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Voucher code and mobile number are required"
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/auth/tokens": {
            "post": {
                "operationId": "auth.tokens.store",
                "summary": "Handle API request",
                "tags": [
                    "CreateToken"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            },
            "get": {
                "operationId": "auth.tokens.index",
                "summary": "Handle API request",
                "tags": [
                    "ListTokens"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            },
            "delete": {
                "operationId": "auth.tokens.destroy-all",
                "summary": "Handle API request",
                "tags": [
                    "RevokeAllTokens"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/disburse-funds": {
            "post": {
                "operationId": "disburse-funds",
                "tags": [
                    "Disburse"
                ],
                "responses": {
                    "200": {
                        "description": "Traditional HTTP redirect",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "anyOf": [
                                        {
                                            "type": "object"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "event": {
                                                    "type": "object",
                                                    "properties": {
                                                        "name": {
                                                            "type": "string",
                                                            "enum": [
                                                                "disbursement.initiated"
                                                            ]
                                                        },
                                                        "data": {
                                                            "anyOf": [
                                                                {
                                                                    "$ref": "#/components/schemas/DisburseResponseData"
                                                                },
                                                                {
                                                                    "type": "boolean"
                                                                }
                                                            ]
                                                        }
                                                    },
                                                    "required": [
                                                        "name",
                                                        "data"
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "event"
                                            ]
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Failed to initiate disbursement"
                                            ]
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "error"
                                    ]
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "User does not support wallet functionality"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/transactions/export": {
            "get": {
                "operationId": "transactions.export",
                "tags": [
                    "ExportTransactions"
                ],
                "parameters": [
                    {
                        "name": "date_from",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "bank",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "rail",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        },
                        "headers": {
                            "Transfer-Encoding": {
                                "required": true,
                                "schema": {
                                    "type": "string",
                                    "enum": [
                                        "chunked"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/redeem/finalize": {
            "get": {
                "operationId": "redeem.finalize",
                "tags": [
                    "FinalizeRedemption"
                ],
                "responses": {
                    "500": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Failed to retrieve finalization data"
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "200": {
                        "description": "For API flow, return basic voucher info from DTO\nThe frontend will merge this with sessionStorage data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "voucher": {
                                                    "type": "object",
                                                    "properties": {
                                                        "code": {
                                                            "type": "string"
                                                        },
                                                        "amount": {
                                                            "type": "string"
                                                        },
                                                        "currency": {
                                                            "anyOf": [
                                                                {
                                                                    "type": "string"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "PHP"
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    },
                                                    "required": [
                                                        "code",
                                                        "amount",
                                                        "currency"
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "voucher"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "success",
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "anyOf": [
                                        {
                                            "type": "object",
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "This voucher has expired"
                                                    ]
                                                },
                                                "errors": {
                                                    "type": "string"
                                                },
                                                "meta": {
                                                    "type": "array",
                                                    "items": {}
                                                }
                                            },
                                            "required": [
                                                "message",
                                                "errors",
                                                "meta"
                                            ]
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "This voucher has already been redeemed"
                                                    ]
                                                },
                                                "errors": {
                                                    "type": "string"
                                                },
                                                "meta": {
                                                    "type": "array",
                                                    "items": {}
                                                }
                                            },
                                            "required": [
                                                "message",
                                                "errors",
                                                "meta"
                                            ]
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Voucher not found"
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Voucher code is required"
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/generate-qrcode": {
            "post": {
                "operationId": "generate-qrcode",
                "tags": [
                    "Generate"
                ],
                "responses": {
                    "200": {
                        "description": "Default: Redirect response for traditional requests",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "anyOf": [
                                        {
                                            "type": "object"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "event": {
                                                    "type": "object",
                                                    "properties": {
                                                        "name": {
                                                            "type": "string",
                                                            "enum": [
                                                                "qrcode.generated"
                                                            ]
                                                        },
                                                        "data": {
                                                            "type": "string"
                                                        }
                                                    },
                                                    "required": [
                                                        "name",
                                                        "data"
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "event"
                                            ]
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/wallet/generate-qr": {
            "post": {
                "operationId": "wallet.generate-qr",
                "summary": "Generate QR code",
                "tags": [
                    "GenerateQrCode"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "amount": {
                                        "type": [
                                            "number",
                                            "null"
                                        ],
                                        "minimum": 0
                                    },
                                    "force": {
                                        "type": [
                                            "boolean",
                                            "null"
                                        ]
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "500": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "success",
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "anyOf": [
                                        {
                                            "type": "object",
                                            "properties": {
                                                "success": {
                                                    "type": "boolean"
                                                },
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "qr_code": {
                                                            "type": "string"
                                                        },
                                                        "qr_url": {
                                                            "type": "null"
                                                        },
                                                        "qr_id": {
                                                            "type": "string",
                                                            "description": "NetBank gateway might not return URL"
                                                        },
                                                        "expires_at": {
                                                            "type": "null"
                                                        },
                                                        "account": {
                                                            "type": "string",
                                                            "description": "Add if gateway provides expiration"
                                                        },
                                                        "amount": {
                                                            "type": [
                                                                "number",
                                                                "null"
                                                            ]
                                                        },
                                                        "shareable_url": {
                                                            "type": "string"
                                                        },
                                                        "merchant": {
                                                            "type": "object",
                                                            "properties": {
                                                                "name": {
                                                                    "type": "string"
                                                                },
                                                                "city": {
                                                                    "type": [
                                                                        "string",
                                                                        "null"
                                                                    ]
                                                                },
                                                                "description": {
                                                                    "type": [
                                                                        "string",
                                                                        "null"
                                                                    ]
                                                                },
                                                                "category": {
                                                                    "type": "string"
                                                                },
                                                                "display_name": {
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "required": [
                                                                "name",
                                                                "city",
                                                                "description",
                                                                "category",
                                                                "display_name"
                                                            ]
                                                        }
                                                    },
                                                    "required": [
                                                        "qr_code",
                                                        "qr_url",
                                                        "qr_id",
                                                        "expires_at",
                                                        "account",
                                                        "amount",
                                                        "shareable_url",
                                                        "merchant"
                                                    ]
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "QR code generated successfully"
                                                    ]
                                                },
                                                "cached": {
                                                    "type": "boolean"
                                                }
                                            },
                                            "required": [
                                                "success",
                                                "data",
                                                "message",
                                                "cached"
                                            ]
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "success": {
                                                    "type": "boolean"
                                                },
                                                "data": {
                                                    "type": [
                                                        "string",
                                                        "null"
                                                    ]
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "QR code generated successfully"
                                                    ]
                                                },
                                                "cached": {
                                                    "type": "boolean"
                                                }
                                            },
                                            "required": [
                                                "success",
                                                "data",
                                                "message",
                                                "cached"
                                            ]
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/vouchers/{code}/qr": {
            "get": {
                "operationId": "vouchers.qr",
                "summary": "Handle as controller action",
                "tags": [
                    "GenerateVoucherQr"
                ],
                "parameters": [
                    {
                        "name": "code",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "qr_code": {
                                                    "type": "string"
                                                },
                                                "redemption_url": {
                                                    "type": "string"
                                                },
                                                "voucher_code": {
                                                    "type": "string"
                                                },
                                                "amount": {
                                                    "type": "string"
                                                },
                                                "currency": {
                                                    "type": "string"
                                                },
                                                "expires_at": {
                                                    "type": "string"
                                                },
                                                "is_redeemed": {
                                                    "type": "boolean"
                                                },
                                                "is_expired": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "qr_code",
                                                "redemption_url",
                                                "voucher_code",
                                                "amount",
                                                "currency",
                                                "expires_at",
                                                "is_redeemed",
                                                "is_expired"
                                            ]
                                        },
                                        "meta": {
                                            "type": "object",
                                            "properties": {
                                                "timestamp": {
                                                    "type": "string"
                                                },
                                                "version": {
                                                    "type": "string",
                                                    "enum": [
                                                        "v1"
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "timestamp",
                                                "version"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "data",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "description": "Error overview."
                                        }
                                    },
                                    "required": [
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/vouchers": {
            "post": {
                "operationId": "generateVouchers",
                "summary": "Generate Vouchers",
                "tags": [
                    "GenerateVouchers"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "integer",
                                    "enum": [
                                        201
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            },
            "get": {
                "operationId": "vouchers.index",
                "summary": "Handle API request",
                "tags": [
                    "ListVouchers"
                ],
                "parameters": [
                    {
                        "name": "per_page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 15
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "'active', 'redeemed', 'expired'",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/auth/me": {
            "get": {
                "operationId": "auth.me",
                "summary": "Handle API request",
                "tags": [
                    "GetAuthenticatedUser"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/wallet/balance": {
            "get": {
                "operationId": "wallet.balance",
                "tags": [
                    "GetBalance"
                ],
                "responses": {
                    "200": {
                        "description": "`BalanceData`",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BalanceData"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/system/balances": {
            "get": {
                "operationId": "system.balances",
                "tags": [
                    "GetBalances"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/contacts/{contact}/vouchers": {
            "get": {
                "operationId": "contacts.vouchers",
                "tags": [
                    "GetContactVouchers"
                ],
                "parameters": [
                    {
                        "name": "contact",
                        "in": "path",
                        "required": true,
                        "description": "The contact ID",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/dashboard/stats": {
            "get": {
                "operationId": "dashboard.stats",
                "tags": [
                    "GetDashboardStats"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/deposits/stats": {
            "get": {
                "operationId": "deposits.stats",
                "tags": [
                    "GetDepositStats"
                ],
                "parameters": [
                    {
                        "name": "date_from",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "institution",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/health": {
            "get": {
                "operationId": "health",
                "description": "Note: This action supports both authenticated (/api/v1/health) and\npublic (/health) endpoints via route configuration.",
                "summary": "Handle API request",
                "tags": [
                    "GetHealth"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/settings/preferences": {
            "get": {
                "operationId": "settings.preferences.show",
                "tags": [
                    "GetPreferences"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            },
            "patch": {
                "operationId": "settings.preferences.update",
                "tags": [
                    "UpdatePreferences"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/settings/profile": {
            "get": {
                "operationId": "settings.profile.show",
                "tags": [
                    "GetProfile"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            },
            "patch": {
                "operationId": "settings.profile.update",
                "tags": [
                    "UpdateProfile"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/dashboard/activity": {
            "get": {
                "operationId": "dashboard.activity",
                "tags": [
                    "GetRecentActivity"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/redeem/status/{code}": {
            "get": {
                "operationId": "redeem.status",
                "tags": [
                    "GetRedemptionStatus"
                ],
                "parameters": [
                    {
                        "name": "code",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "501": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Not implemented yet"
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/wallet/topup/{arguments}": {
            "get": {
                "operationId": "wallet.topup.status",
                "tags": [
                    "GetTopUpStatus"
                ],
                "parameters": [
                    {
                        "name": "arguments",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": [
                                "string",
                                "null"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "`TopUpData`",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TopUpData"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/transactions/stats": {
            "get": {
                "operationId": "transactions.stats",
                "tags": [
                    "GetTransactionStats"
                ],
                "parameters": [
                    {
                        "name": "date_from",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/settings/wallet": {
            "get": {
                "operationId": "settings.wallet.show",
                "tags": [
                    "GetWalletConfig"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            },
            "patch": {
                "operationId": "settings.wallet.update",
                "tags": [
                    "UpdateWalletConfig"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/webhooks/payment": {
            "post": {
                "operationId": "webhooks.payment",
                "tags": [
                    "HandlePaymentWebhook"
                ],
                "responses": {
                    "501": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Not implemented yet"
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/webhooks/sms": {
            "post": {
                "operationId": "webhooks.sms",
                "tags": [
                    "HandleSmsWebhook"
                ],
                "responses": {
                    "501": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Not implemented yet"
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/wallet/topup": {
            "post": {
                "operationId": "wallet.topup.initiate",
                "tags": [
                    "InitiateTopUp"
                ],
                "responses": {
                    "200": {
                        "description": "`TopUpResultData`",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TopUpResultData"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            },
            "get": {
                "operationId": "wallet.topup.list",
                "tags": [
                    "ListTopUps"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/TopUpData"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/vouchers/{code}/inspect": {
            "get": {
                "operationId": "vouchers.inspect",
                "summary": "Handle as controller (for route binding)",
                "tags": [
                    "InspectVoucher"
                ],
                "parameters": [
                    {
                        "name": "code",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "code": {
                                            "type": "string"
                                        },
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "active",
                                                "scheduled",
                                                "expired",
                                                "redeemed"
                                            ]
                                        },
                                        "metadata": {
                                            "type": [
                                                "string",
                                                "null"
                                            ]
                                        },
                                        "info": {
                                            "type": "object",
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "This voucher was created before metadata tracking was implemented."
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "message"
                                            ]
                                        },
                                        "preview": {
                                            "type": "object",
                                            "properties": {
                                                "enabled": {
                                                    "type": "string"
                                                },
                                                "scope": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "string",
                                                            "enum": [
                                                                "full",
                                                                "none"
                                                            ]
                                                        }
                                                    ]
                                                },
                                                "message": {
                                                    "type": [
                                                        "string",
                                                        "null"
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "enabled",
                                                "scope",
                                                "message"
                                            ]
                                        },
                                        "instructions": {
                                            "type": "object",
                                            "properties": {
                                                "amount": {
                                                    "type": "number"
                                                },
                                                "currency": {
                                                    "type": "string"
                                                },
                                                "formatted_amount": {
                                                    "anyOf": [
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "boolean"
                                                        }
                                                    ]
                                                },
                                                "required_inputs": {
                                                    "type": "array",
                                                    "prefixItems": [
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "value": {
                                                                    "type": "string"
                                                                },
                                                                "label": {
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "required": [
                                                                "value",
                                                                "label"
                                                            ]
                                                        }
                                                    ],
                                                    "minItems": 1,
                                                    "maxItems": 1,
                                                    "additionalItems": false
                                                },
                                                "expires_at": {
                                                    "type": "string"
                                                },
                                                "starts_at": {
                                                    "type": "string"
                                                },
                                                "validation": {
                                                    "type": "object",
                                                    "properties": {
                                                        "has_secret": {
                                                            "type": "boolean"
                                                        },
                                                        "is_assigned": {
                                                            "type": "boolean"
                                                        },
                                                        "assigned_mobile_masked": {
                                                            "type": [
                                                                "string",
                                                                "null"
                                                            ]
                                                        }
                                                    },
                                                    "required": [
                                                        "has_secret",
                                                        "is_assigned",
                                                        "assigned_mobile_masked"
                                                    ]
                                                },
                                                "location_validation": {
                                                    "type": "object",
                                                    "properties": {
                                                        "required": {
                                                            "type": "string"
                                                        },
                                                        "target_lat": {
                                                            "type": "string"
                                                        },
                                                        "target_lng": {
                                                            "type": "string"
                                                        },
                                                        "radius_meters": {
                                                            "type": "string"
                                                        },
                                                        "on_failure": {
                                                            "type": "string"
                                                        },
                                                        "description": {
                                                            "type": "string"
                                                        }
                                                    },
                                                    "required": [
                                                        "required",
                                                        "target_lat",
                                                        "target_lng",
                                                        "radius_meters",
                                                        "on_failure",
                                                        "description"
                                                    ]
                                                },
                                                "time_validation": {
                                                    "type": "object",
                                                    "properties": {
                                                        "window": {
                                                            "type": [
                                                                "object",
                                                                "null"
                                                            ],
                                                            "properties": {
                                                                "start_time": {
                                                                    "type": "string"
                                                                },
                                                                "end_time": {
                                                                    "type": "string"
                                                                },
                                                                "timezone": {
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "required": [
                                                                "start_time",
                                                                "end_time",
                                                                "timezone"
                                                            ]
                                                        },
                                                        "limit_minutes": {
                                                            "type": "string"
                                                        },
                                                        "description": {
                                                            "type": "string"
                                                        }
                                                    },
                                                    "required": [
                                                        "window",
                                                        "limit_minutes",
                                                        "description"
                                                    ]
                                                },
                                                "rider": {
                                                    "type": "object",
                                                    "properties": {
                                                        "message": {
                                                            "type": [
                                                                "string",
                                                                "null"
                                                            ]
                                                        },
                                                        "url": {
                                                            "type": [
                                                                "string",
                                                                "null"
                                                            ]
                                                        }
                                                    },
                                                    "required": [
                                                        "message",
                                                        "url"
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "amount",
                                                "currency",
                                                "formatted_amount",
                                                "required_inputs",
                                                "expires_at",
                                                "starts_at",
                                                "validation",
                                                "location_validation",
                                                "time_validation",
                                                "rider"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "success",
                                        "code",
                                        "status",
                                        "metadata",
                                        "info",
                                        "preview",
                                        "instructions"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Voucher not found"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "success",
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/contacts": {
            "get": {
                "operationId": "contacts.index",
                "tags": [
                    "ListContacts"
                ],
                "parameters": [
                    {
                        "name": "per_page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 15
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/deposits": {
            "get": {
                "operationId": "deposits.index",
                "tags": [
                    "ListDeposits"
                ],
                "parameters": [
                    {
                        "name": "per_page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 20
                        }
                    },
                    {
                        "name": "date_from",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "institution",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/senders": {
            "get": {
                "operationId": "senders.index",
                "tags": [
                    "ListSenders"
                ],
                "parameters": [
                    {
                        "name": "per_page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 20
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "sort_by",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "default": "last_transaction_at"
                        }
                    },
                    {
                        "name": "sort_order",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "default": "desc"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/wallet/transactions": {
            "get": {
                "operationId": "wallet.transactions",
                "tags": [
                    "ListTransactions"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/transactions": {
            "get": {
                "operationId": "transactions.index",
                "tags": [
                    "ListTransactions"
                ],
                "parameters": [
                    {
                        "name": "per_page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 20
                        }
                    },
                    {
                        "name": "date_from",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "bank",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "rail",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/merchant/profile": {
            "get": {
                "operationId": "merchant.profile.show",
                "summary": "Get merchant profile for authenticated user",
                "tags": [
                    "MerchantProfile"
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "merchant": {
                                                    "$ref": "#/components/schemas/Merchant"
                                                },
                                                "categories": {
                                                    "type": "array",
                                                    "prefixItems": [
                                                        {
                                                            "type": "string",
                                                            "enum": [
                                                                "General/Personal"
                                                            ]
                                                        },
                                                        {
                                                            "type": "string",
                                                            "enum": [
                                                                "Eating Places/Restaurants"
                                                            ]
                                                        },
                                                        {
                                                            "type": "string",
                                                            "enum": [
                                                                "Grocery Stores"
                                                            ]
                                                        },
                                                        {
                                                            "type": "string",
                                                            "enum": [
                                                                "Furniture/Home Furnishings"
                                                            ]
                                                        },
                                                        {
                                                            "type": "string",
                                                            "enum": [
                                                                "Department Stores"
                                                            ]
                                                        },
                                                        {
                                                            "type": "string",
                                                            "enum": [
                                                                "Personal Services"
                                                            ]
                                                        },
                                                        {
                                                            "type": "string",
                                                            "enum": [
                                                                "Professional Services"
                                                            ]
                                                        },
                                                        {
                                                            "type": "string",
                                                            "enum": [
                                                                "Retail/Miscellaneous"
                                                            ]
                                                        }
                                                    ],
                                                    "minItems": 8,
                                                    "maxItems": 8,
                                                    "additionalItems": false
                                                }
                                            },
                                            "required": [
                                                "merchant",
                                                "categories"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "success",
                                        "data"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            },
            "put": {
                "operationId": "merchant.profile.update",
                "summary": "Update merchant profile for authenticated user",
                "tags": [
                    "MerchantProfile"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 255
                                    },
                                    "city": {
                                        "type": [
                                            "string",
                                            "null"
                                        ],
                                        "maxLength": 100
                                    },
                                    "description": {
                                        "type": [
                                            "string",
                                            "null"
                                        ],
                                        "maxLength": 500
                                    },
                                    "merchant_category_code": {
                                        "type": "string",
                                        "minLength": 4,
                                        "maxLength": 4
                                    },
                                    "is_dynamic": {
                                        "type": [
                                            "boolean",
                                            "null"
                                        ]
                                    },
                                    "default_amount": {
                                        "type": [
                                            "number",
                                            "null"
                                        ],
                                        "minimum": 0,
                                        "maximum": 999999
                                    },
                                    "min_amount": {
                                        "type": [
                                            "number",
                                            "null"
                                        ],
                                        "minimum": 0,
                                        "maximum": 999999
                                    },
                                    "max_amount": {
                                        "type": [
                                            "number",
                                            "null"
                                        ],
                                        "minimum": 0,
                                        "maximum": 999999
                                    },
                                    "merchant_name_template": {
                                        "type": [
                                            "string",
                                            "null"
                                        ],
                                        "maxLength": 255
                                    },
                                    "allow_tip": {
                                        "type": [
                                            "boolean",
                                            "null"
                                        ]
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Merchant"
                                        },
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Merchant profile updated successfully"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "success",
                                        "data",
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/vouchers/query": {
            "get": {
                "operationId": "vouchers.query",
                "summary": "Handle API request",
                "tags": [
                    "QueryVouchers"
                ],
                "parameters": [
                    {
                        "name": "external_type",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "external_id",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "reference_id",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "user_id",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "order_by",
                        "in": "query",
                        "description": "Order by",
                        "schema": {
                            "type": "string",
                            "default": "created_at"
                        }
                    },
                    {
                        "name": "order_direction",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "default": "desc"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 15
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/transactions/{code}/refresh-status": {
            "post": {
                "operationId": "transactions.refresh-status",
                "summary": "Handle as controller",
                "tags": [
                    "RefreshDisbursementStatus"
                ],
                "parameters": [
                    {
                        "name": "code",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "500": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "success",
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "updated": {
                                                    "type": "boolean"
                                                },
                                                "current_status": {
                                                    "type": [
                                                        "string",
                                                        "null"
                                                    ]
                                                },
                                                "new_status": {
                                                    "type": [
                                                        "string",
                                                        "null"
                                                    ]
                                                },
                                                "voucher_code": {
                                                    "type": "string"
                                                },
                                                "disbursement": {
                                                    "type": [
                                                        "string",
                                                        "null"
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "updated",
                                                "current_status",
                                                "new_status",
                                                "voucher_code",
                                                "disbursement"
                                            ]
                                        },
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Status updated successfully",
                                                "Status unchanged"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "success",
                                        "data",
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "This transaction has no disbursement data"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "success",
                                        "message"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/auth/tokens/{tokenId}": {
            "delete": {
                "operationId": "auth.tokens.destroy",
                "summary": "Handle API request",
                "tags": [
                    "RevokeToken"
                ],
                "parameters": [
                    {
                        "name": "tokenId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/vouchers/{voucher}/external": {
            "post": {
                "operationId": "vouchers.external.set",
                "summary": "Handle API request",
                "tags": [
                    "SetExternalMetadata"
                ],
                "parameters": [
                    {
                        "name": "voucher",
                        "in": "path",
                        "required": true,
                        "description": "The voucher code",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "You do not have permission to modify this voucher."
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/contacts/{contact}": {
            "get": {
                "operationId": "contacts.show",
                "tags": [
                    "ShowContact"
                ],
                "parameters": [
                    {
                        "name": "contact",
                        "in": "path",
                        "required": true,
                        "description": "The contact ID",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    }
                }
            }
        },
        "/v1/senders/{contactId}": {
            "get": {
                "operationId": "senders.show",
                "tags": [
                    "ShowSender"
                ],
                "parameters": [
                    {
                        "name": "contactId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Sender not found"
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/transactions/{voucher}": {
            "get": {
                "operationId": "transactions.show",
                "tags": [
                    "ShowTransaction"
                ],
                "parameters": [
                    {
                        "name": "voucher",
                        "in": "path",
                        "required": true,
                        "description": "The voucher code",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/redeem/start": {
            "post": {
                "operationId": "redeem.start",
                "tags": [
                    "StartRedemption"
                ],
                "responses": {
                    "501": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Not implemented yet"
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/redeem/plugin": {
            "post": {
                "operationId": "redeem.plugin",
                "tags": [
                    "SubmitPlugin"
                ],
                "responses": {
                    "501": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Not implemented yet"
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/redeem/wallet": {
            "post": {
                "operationId": "redeem.wallet",
                "tags": [
                    "SubmitWallet"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "allOf": [
                                    {
                                        "$ref": "#/components/schemas/ActionRequest"
                                    },
                                    {
                                        "type": "object",
                                        "properties": {
                                            "code": {
                                                "type": "string"
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "500": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Failed to redeem voucher. Please try again."
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "anyOf": [
                                        {
                                            "type": "object",
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "Invalid secret code."
                                                    ]
                                                },
                                                "errors": {
                                                    "type": "string"
                                                },
                                                "meta": {
                                                    "type": "array",
                                                    "items": {}
                                                }
                                            },
                                            "required": [
                                                "message",
                                                "errors",
                                                "meta"
                                            ]
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "This voucher is not yet active."
                                                    ]
                                                },
                                                "errors": {
                                                    "type": "string"
                                                },
                                                "meta": {
                                                    "type": "array",
                                                    "items": {}
                                                }
                                            },
                                            "required": [
                                                "message",
                                                "errors",
                                                "meta"
                                            ]
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "This voucher has expired."
                                                    ]
                                                },
                                                "errors": {
                                                    "type": "string"
                                                },
                                                "meta": {
                                                    "type": "array",
                                                    "items": {}
                                                }
                                            },
                                            "required": [
                                                "message",
                                                "errors",
                                                "meta"
                                            ]
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "enum": [
                                                        "This voucher has already been redeemed."
                                                    ]
                                                },
                                                "errors": {
                                                    "type": "string"
                                                },
                                                "meta": {
                                                    "type": "array",
                                                    "items": {}
                                                }
                                            },
                                            "required": [
                                                "message",
                                                "errors",
                                                "meta"
                                            ]
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Invalid voucher code."
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/vouchers/{voucher}/timing/click": {
            "post": {
                "operationId": "vouchers.timing.click",
                "description": "Public endpoint - no authentication required since vouchers can be redeemed publicly.",
                "summary": "Handle API request",
                "tags": [
                    "TrackClick"
                ],
                "parameters": [
                    {
                        "name": "voucher",
                        "in": "path",
                        "required": true,
                        "description": "The voucher code",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/vouchers/{voucher}/timing/start": {
            "post": {
                "operationId": "vouchers.timing.start",
                "description": "Public endpoint - no authentication required since vouchers can be redeemed publicly.",
                "summary": "Handle API request",
                "tags": [
                    "TrackRedemptionStart"
                ],
                "parameters": [
                    {
                        "name": "voucher",
                        "in": "path",
                        "required": true,
                        "description": "The voucher code",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/vouchers/{voucher}/timing/submit": {
            "post": {
                "operationId": "vouchers.timing.submit",
                "summary": "Handle API request",
                "tags": [
                    "TrackRedemptionSubmit"
                ],
                "parameters": [
                    {
                        "name": "voucher",
                        "in": "path",
                        "required": true,
                        "description": "The voucher code",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "You do not have permission to modify this voucher."
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/ModelNotFoundException"
                    },
                    "401": {
                        "$ref": "#/components/responses/AuthenticationException"
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        },
        "/v1/redeem/validate": {
            "post": {
                "operationId": "redeem.validate",
                "tags": [
                    "ValidateRedemptionCode"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "allOf": [
                                    {
                                        "$ref": "#/components/schemas/ActionRequest"
                                    },
                                    {
                                        "type": "object",
                                        "properties": {
                                            "code": {
                                                "type": "string"
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "enum": [
                                                "Invalid voucher code."
                                            ]
                                        },
                                        "errors": {
                                            "type": "string"
                                        },
                                        "meta": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    },
                                    "required": [
                                        "message",
                                        "errors",
                                        "meta"
                                    ]
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/ValidationException"
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "ActionRequest": {
                "type": "object",
                "title": "ActionRequest"
            },
            "BalanceData": {
                "type": "object",
                "additionalProperties": {},
                "title": "BalanceData"
            },
            "DisburseResponseData": {
                "type": "object",
                "additionalProperties": {},
                "title": "DisburseResponseData"
            },
            "Merchant": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "integer"
                    },
                    "uuid": {
                        "type": "string"
                    },
                    "code": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "city": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "description": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "merchant_category_code": {
                        "type": "string"
                    },
                    "logo_url": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "allow_tip": {
                        "type": "boolean"
                    },
                    "is_dynamic": {
                        "type": "boolean"
                    },
                    "default_amount": {
                        "type": [
                            "number",
                            "null"
                        ]
                    },
                    "min_amount": {
                        "type": [
                            "number",
                            "null"
                        ]
                    },
                    "max_amount": {
                        "type": [
                            "number",
                            "null"
                        ]
                    },
                    "merchant_name_template": {
                        "type": "string"
                    },
                    "is_active": {
                        "type": "boolean"
                    },
                    "created_at": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "format": "date-time"
                    }
                },
                "required": [
                    "id",
                    "uuid",
                    "code",
                    "name",
                    "city",
                    "description",
                    "merchant_category_code",
                    "logo_url",
                    "allow_tip",
                    "is_dynamic",
                    "default_amount",
                    "min_amount",
                    "max_amount",
                    "merchant_name_template",
                    "is_active",
                    "created_at",
                    "updated_at"
                ],
                "title": "Merchant"
            },
            "TopUpData": {
                "type": "object",
                "additionalProperties": {},
                "title": "TopUpData"
            },
            "TopUpResultData": {
                "type": "object",
                "additionalProperties": {},
                "title": "TopUpResultData"
            }
        },
        "responses": {
            "ValidationException": {
                "description": "Validation error",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "description": "Errors overview."
                                },
                                "errors": {
                                    "type": "object",
                                    "description": "A detailed description of each field that failed validation.",
                                    "additionalProperties": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            },
                            "required": [
                                "message",
                                "errors"
                            ]
                        }
                    }
                }
            },
            "AuthenticationException": {
                "description": "Unauthenticated",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "description": "Error overview."
                                }
                            },
                            "required": [
                                "message"
                            ]
                        }
                    }
                }
            },
            "ModelNotFoundException": {
                "description": "Not found",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "description": "Error overview."
                                }
                            },
                            "required": [
                                "message"
                            ]
                        }
                    }
                }
            },
            "AuthorizationException": {
                "description": "Authorization error",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "description": "Error overview."
                                }
                            },
                            "required": [
                                "message"
                            ]
                        }
                    }
                }
            }
        }
    }
}